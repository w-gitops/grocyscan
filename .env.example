# ============================================
# DOCKER DEPLOYMENT (for docker-compose.prod.yml)
# ============================================
# GHCR image path - update with your GitHub username/org
GROCYSCAN_IMAGE=ghcr.io/OWNER/grocyscan:latest
# Postgres password for production (change this!)
POSTGRES_PASSWORD=grocyscan

# ============================================
# APPLICATION CORE
# ============================================
# Product/app title (UI, PWA manifest, docs). Change here to rebrand.
APP_TITLE=HomeBot
GROCYSCAN_VERSION=1.0.0
GROCYSCAN_ENV=development
GROCYSCAN_DEBUG=true
GROCYSCAN_HOST=0.0.0.0
GROCYSCAN_PORT=3334
GROCYSCAN_SECRET_KEY=change-me-to-a-secure-32-character-secret

# ============================================
# API DOCUMENTATION
# ============================================
DOCS_ENABLED=true
OPENAPI_URL=/api/v1/openapi.json

# ============================================
# DATABASE
# ============================================
DATABASE_URL=postgresql+asyncpg://grocyscan:grocyscan@localhost:5432/grocyscan
DATABASE_POOL_SIZE=5
DATABASE_MAX_OVERFLOW=10
DATABASE_ECHO=false

# ============================================
# REDIS CACHE
# ============================================
REDIS_URL=redis://localhost:6379/0
REDIS_PASSWORD=
CACHE_TTL_DAYS=30

# ============================================
# GROCY INTEGRATION
# ============================================
GROCY_API_URL=http://localhost:9283
GROCY_API_KEY=your-grocy-api-key
GROCY_WEB_URL=http://localhost:9283
GROCY_TIMEOUT_SECONDS=30

# ============================================
# LLM CONFIGURATION
# ============================================
LLM_PROVIDER_PRESET=ollama
LLM_API_URL=http://localhost:11434/v1
LLM_API_KEY=
LLM_MODEL=llama3.1:8b
LLM_TIMEOUT_SECONDS=60
LLM_MAX_RETRIES=3

# ============================================
# LOOKUP PROVIDERS
# ============================================
LOOKUP_STRATEGY=sequential
LOOKUP_PROVIDER_ORDER=openfoodfacts,goupc,upcitemdb,brave,federation
LOOKUP_TIMEOUT_SECONDS=10

OPENFOODFACTS_ENABLED=true
OPENFOODFACTS_USER_AGENT=GrocyScan/1.0

GOUPC_ENABLED=false
GOUPC_API_KEY=

UPCITEMDB_ENABLED=false
UPCITEMDB_API_KEY=

BRAVE_ENABLED=false
BRAVE_API_KEY=
BRAVE_USE_AS_FALLBACK=true

FEDERATION_ENABLED=false
FEDERATION_URL=

# ============================================
# SCANNING BEHAVIOR
# ============================================
AUTO_ADD_ENABLED=false
FUZZY_MATCH_THRESHOLD=0.9
DEFAULT_QUANTITY_UNIT=pieces
KIOSK_MODE_ENABLED=false

# ============================================
# AUTHENTICATION
# ============================================
AUTH_ENABLED=true
AUTH_USERNAME=admin
AUTH_PASSWORD_HASH=
SESSION_TIMEOUT_HOURS=24
SESSION_ABSOLUTE_TIMEOUT_DAYS=7

EXTERNAL_API_ENABLED=true
EXTERNAL_API_RATE_LIMIT=100

# ============================================
# MCP SERVER
# ============================================
MCP_ENABLED=false
MCP_PORT=3335
MCP_TRANSPORT=streamable-http
MCP_REQUIRE_API_KEY=true

# ============================================
# OBSERVABILITY
# ============================================
LOG_LEVEL=DEBUG
LOG_FORMAT=console
# Set to a file path so the Logs tab can display entries (e.g. /opt/grocyscan/logs/app.log)
LOG_FILE=

OTEL_ENABLED=false
OTEL_EXPORTER_OTLP_ENDPOINT=http://localhost:4317
OTEL_EXPORTER_OTLP_INSECURE=true
OTEL_SERVICE_NAME=grocyscan

METRICS_ENABLED=true
METRICS_PORT=3334
